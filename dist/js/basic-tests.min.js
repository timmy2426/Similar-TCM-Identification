document.addEventListener("DOMContentLoaded",(function(){let e=JSON.parse(JSON.stringify(testBank)),n=[],t=[];function i(){let n=JSON.parse(JSON.stringify(e)),t=[],i={id:0,question:"",answer:[],solution:""};for(let e=0;e<4;e++){let e=n[Math.floor(Math.random()*n.length)];n.splice(n.findIndex((n=>n.id===e.id)),1),t.push(e)}let s=t[Math.floor(Math.random()*t.length)];return i.id=s.id,i.question=s.img,i.solution=s.name,t.forEach((e=>{i.answer.push({id:e.id,name:e.name})})),e.splice(e.findIndex((e=>e.id===s.id)),1),i}document.querySelector("#newQuiz").addEventListener("click",(s=>{let o=document.querySelector(".quiz"),l=0;document.querySelector(".control").classList.remove("show"),e=JSON.parse(JSON.stringify(testBank)),n=[],t=[],o.innerHTML="";for(let e=0;e<25;e++){let e=i();n.push(e)}n.forEach((function(e){let n=document.createElement("div");n.setAttribute("class","test"),n.innerHTML="<h2>第"+(l+1)+'題</h2>\n<div class="col">\n<div class="question">\n<img src="'+e.question+'">\n</div>\n<div class="answer">\n<div class="options">\n<input type="radio" name="test'+l+'" id="'+l+'-0" value="'+e.answer[0].id+'">\n<label for="'+l+'-0">'+e.answer[0].name+'</label>\n</div>\n<div class="options">\n<input type="radio" name="test'+l+'" id="'+l+'-1" value="'+e.answer[1].id+'">\n<label for="'+l+'-1">'+e.answer[1].name+'</label>\n</div>\n<div class="options">\n<input type="radio" name="test'+l+'" id="'+l+'-2" value="'+e.answer[2].id+'">\n<label for="'+l+'-2">'+e.answer[2].name+'</label>\n</div>\n<div class="options">\n<input type="radio" name="test'+l+'" id="'+l+'-3" value="'+e.answer[3].id+'">\n<label for="'+l+'-3">'+e.answer[3].name+'</label>\n</div>\n<p>正確答案： <span class="solution"></span></p>\n</div>\n</div>',l++,o.appendChild(n)}))})),document.querySelector("#send").addEventListener("click",(e=>{let i=document.querySelectorAll(".test"),s=0;document.querySelector(".control").classList.add("show"),i.forEach((e=>{let n=0,i=e.querySelectorAll("input");e.querySelector("p").setAttribute("class","show");for(let e=0;e<4;e++){if(n++,i[e].checked){t.push(parseInt(i[e].value,10));break}4===n&&t.push(9999)}}));for(let e=0;e<25;e++)i[e].querySelector(".solution").setAttribute("class","solution"),i[e].querySelector(".solution").innerHTML=n[e].solution,t[e]===n[e].id?s+=4:i[e].querySelector(".solution").classList.add("wrong");document.querySelector(".num").innerHTML=s,window.scrollTo(0,0)})),document.querySelector("#newQuiz").click()}));